# Zero Email - Raspberry Pi Environment Configuration
# Copy this file to .env on your Pi and fill in your values
#
# Usage on Pi: cp .env.pi.example .env && nano .env
#
# IMPORTANT: Uses port 3001 to avoid conflict with statement-parser on port 3000
# IMPORTANT: Uses nip.io domain for Google OAuth (raw IPs not allowed)

# ========================================
# Application URLs (using Tailscale HTTPS)
# ========================================
APP_URL=https://raspberrypi.taile015d9.ts.net
BACKEND_URL=https://raspberrypi.taile015d9.ts.net
BASE_URL=https://raspberrypi.taile015d9.ts.net
BETTER_AUTH_URL=https://raspberrypi.taile015d9.ts.net
BETTER_AUTH_TRUSTED_ORIGINS=https://raspberrypi.taile015d9.ts.net
COOKIE_DOMAIN=raspberrypi.taile015d9.ts.net

# ========================================
# S3/MinIO Configuration (Shared with statement-parser)
# ========================================
# Uses the MinIO instance from statement-parser
# Access MinIO console at: http://192.168.7.14:9001
# Create a bucket named 'threads' before first run
S3_ENDPOINT_EXTERNAL=http://172.17.0.1:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
S3_BUCKET=threads

# ========================================
# Database Configuration
# ========================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=zerodotemail

# ========================================
# Authentication
# ========================================
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_base64_32
JWT_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_base64_32

# ========================================
# Google OAuth (Required for Gmail)
# ========================================
# 1. Go to: https://console.cloud.google.com/apis/credentials
# 2. Create OAuth 2.0 credentials
# 3. Add authorized redirect URI: http://192-168-7-14.nip.io:3001/api/auth/callback/google
# 4. Add authorized JavaScript origin: http://192-168-7-14.nip.io:3001
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=https://raspberrypi.taile015d9.ts.net/api/auth/callback/google

# ========================================
# AI Configuration (Optional but recommended)
# ========================================
# OpenAI API key for AI features (drafting, summarization)
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o
OPENAI_MINI_MODEL=gpt-4o-mini

# Alternative: Anthropic Claude
ANTHROPIC_API_KEY=

# Perplexity API key for web search features (optional)
PERPLEXITY_API_KEY=

# ========================================
# Email Sending (Optional)
# ========================================
# Resend API key for sending emails
# Get one at: https://resend.com
RESEND_API_KEY=

# ========================================
# Production Settings
# ========================================
NODE_ENV=production
SELF_HOSTED=true
STANDALONE=true
